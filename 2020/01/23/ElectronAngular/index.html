<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><title>从零开始创建基于Angular的Electron应用程序 | EdgeNeko's blog</title><meta name="author" content="EdgeNeko"><meta name="copyright" content="EdgeNeko"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="警告:阅读下面内容前请详细阅读下面的内容是我在尝试构建RailgunMediaEncoder中尝试使用的方法, 我无法保证下面的方法绝对符合”最佳实践”.USE IT AT YOUR OWN RISK.如果有任何问题及建议,欢迎提出. 0. 开始之前一个标准的Electron的应用由两部分组成:  用于在后台运行的主线程项目和在前台运行的ui线程项目. 这两部分是相对独立的, 其间的通讯只能通过i"><meta property="og:type" content="article"><meta property="og:title" content="从零开始创建基于Angular的Electron应用程序"><meta property="og:url" content="https://edgeneko.aiursoft.com/2020/01/23/ElectronAngular/"><meta property="og:site_name" content="EdgeNeko&#39;s blog"><meta property="og:description" content="警告:阅读下面内容前请详细阅读下面的内容是我在尝试构建RailgunMediaEncoder中尝试使用的方法, 我无法保证下面的方法绝对符合”最佳实践”.USE IT AT YOUR OWN RISK.如果有任何问题及建议,欢迎提出. 0. 开始之前一个标准的Electron的应用由两部分组成:  用于在后台运行的主线程项目和在前台运行的ui线程项目. 这两部分是相对独立的, 其间的通讯只能通过i"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://edgeneko.aiursoft.com/img/default-title/6.jpg"><meta property="article:published_time" content="2020-01-23T04:01:18.000Z"><meta property="article:modified_time" content="2021-06-21T16:00:00.000Z"><meta property="article:author" content="EdgeNeko"><meta property="article:tag" content="Web"><meta property="article:tag" content="Electron"><meta property="article:tag" content="Angular"><meta property="article:tag" content="Desktop"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://edgeneko.aiursoft.com/img/default-title/6.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://edgeneko.aiursoft.com/2020/01/23/ElectronAngular/"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="//busuanzi.ibruce.info"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload='this.media="all"'><script>const GLOBAL_CONFIG={root:"/",algolia:void 0,localSearch:{path:"/search.xml",preload:!1,languages:{hits_empty:"找不到您查询的内容：${query}"}},translate:{defaultEncoding:2,translateDelay:0,msgToTraditionalChinese:"繁",msgToSimplifiedChinese:"简"},noticeOutdate:{limitDay:365,position:"top",messagePrev:"本文最后更新时间为",messageNext:"天前, 其中的内容可能已经过时."},highlight:{plugin:"highlighjs",highlightCopy:!0,highlightLang:!0,highlightHeightLimit:!1},copy:{success:"复制成功",error:"复制错误",noSupport:"浏览器不支持"},relativeDate:{homepage:!1,post:!1},runtime:"",date_suffix:{just:"刚刚",min:"分钟前",hour:"小时前",day:"天前",month:"个月前"},copyright:void 0,lightbox:"fancybox",Snackbar:{chs_to_cht:"你已切换为繁体",cht_to_chs:"你已切换为简体",day_to_night:"你已切换为深色模式",night_to_day:"你已切换为浅色模式",bgLight:"#49b1f5",bgDark:"#2d3035",position:"bottom-left"},source:{justifiedGallery:{js:"https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js",css:"https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css"}},isPhotoFigcaption:!1,islazyload:!1,isAnchor:!1}</script><script id="config-diff">var GLOBAL_CONFIG_SITE={title:"从零开始创建基于Angular的Electron应用程序",isPost:!0,isHome:!1,isHighlightShrink:!1,isToc:!0,postUpdate:"2021-06-22 00:00:00"}</script><noscript><style>#nav{opacity:1}.justified-gallery img{opacity:1}#post-meta time,#recent-posts time{display:inline!important}</style></noscript><script>(e=>{e.saveToLocal={set:function(e,t,o){if(0===o)return;const n=864e5*o,a={value:t,expiry:(new Date).getTime()+n};localStorage.setItem(e,JSON.stringify(a))},get:function(e){const t=localStorage.getItem(e);if(!t)return;const o=JSON.parse(t);if(!((new Date).getTime()>o.expiry))return o.value;localStorage.removeItem(e)}},e.getScript=e=>new Promise((t,o)=>{const n=document.createElement("script");n.src=e,n.async=!0,n.onerror=o,n.onload=n.onreadystatechange=function(){const e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,t())},document.head.appendChild(n)}),e.activateDarkMode=function(){document.documentElement.setAttribute("data-theme","dark"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#0d0d0d")},e.activateLightMode=function(){document.documentElement.setAttribute("data-theme","light"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#ffffff")};const t=saveToLocal.get("theme");"dark"===t?activateDarkMode():"light"===t&&activateLightMode();const o=saveToLocal.get("aside-status");void 0!==o&&("hide"===o?document.documentElement.classList.add("hide-aside"):document.documentElement.classList.remove("hide-aside"));/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)&&document.documentElement.classList.add("apple")})(window)</script><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="EdgeNeko's blog" type="application/atom+xml"><link rel="alternate" href="/rss2.xml" title="EdgeNeko's blog" type="application/rss+xml"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/avatar.jpg" onerror='onerror=null,src="/img/friend_404.gif"' alt="avatar"></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">13</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">34</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">8</div></a></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page group hide" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fas fa-rss"></i> <span>订阅</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/rss2.xml"><i class="fa-fw fas fa-rss"></i> <span>Rss2</span></a></li><li><a class="site-page child" href="/atom.xml"><i class="fa-fw fas fa-atom"></i> <span>Atom</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i> <span>主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i> <span>归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i> <span>标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i> <span>类别</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i> <span>链接</span></a></div><div class="menus_item"><a class="site-page" href="/2018/01/01/Welcome/"><i class="fa-fw fas fa-heart"></i> <span>关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image:url(/img/default-title/6.jpg)"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">EdgeNeko's blog</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i> <span>搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page group hide" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fas fa-rss"></i> <span>订阅</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/rss2.xml"><i class="fa-fw fas fa-rss"></i> <span>Rss2</span></a></li><li><a class="site-page child" href="/atom.xml"><i class="fa-fw fas fa-atom"></i> <span>Atom</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i> <span>主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i> <span>归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i> <span>标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i> <span>类别</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i> <span>链接</span></a></div><div class="menus_item"><a class="site-page" href="/2018/01/01/Welcome/"><i class="fa-fw fas fa-heart"></i> <span>关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">从零开始创建基于Angular的Electron应用程序</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2020-01-23T04:01:18.000Z" title="发表于 2020-01-23 12:01:18">2020-01-23</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2021-06-21T16:00:00.000Z" title="更新于 2021-06-22 00:00:00">2021-06-22</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Web-Development/">Web Development</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" data-flag-title="从零开始创建基于Angular的Electron应用程序"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h2 id="警告-阅读下面内容前请详细阅读"><a href="#警告-阅读下面内容前请详细阅读" class="headerlink" title="警告:阅读下面内容前请详细阅读"></a>警告:阅读下面内容前请详细阅读</h2><p>下面的内容是我在尝试构建<code>RailgunMediaEncoder</code>中尝试使用的方法, 我无法保证下面的方法绝对符合”最佳实践”.<br>USE IT AT YOUR OWN RISK.<br>如果有任何问题及建议,欢迎提出.</p><h2 id="0-开始之前"><a href="#0-开始之前" class="headerlink" title="0. 开始之前"></a>0. 开始之前</h2><p>一个标准的Electron的应用由两部分组成: 用于在后台运行的主线程项目和在前台运行的ui线程项目. 这两部分是相对独立的, 其间的通讯只能通过ipc(线程间通讯)完成. 在开发时, 这两部分也应该作为两个独立的项目来管理.<br>这里我们主线程使用纯TypeScript完成主线程项目, 使用Angular + TypeScript完成ui线程项目.<br>下面的例子中我们希望的源代码目录结构:<br><img src="/2020/01/23/ElectronAngular/01.png" alt="Project Structure"></p><h2 id="1-创建Angular项目"><a href="#1-创建Angular项目" class="headerlink" title="1. 创建Angular项目"></a>1. 创建Angular项目</h2><p>首先确保你已经全局安装了Angular CLI,如果没有, 使用下面的命令安装:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g @angular/cli</span><br></pre></td></tr></table></figure><p>安装后，首先使用以下命令来创建一个空白项目(不包含app)</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ng new --createApplication=<span class="literal">false</span> --newProjectRoot=<span class="string">&quot;./&quot;</span> HelloElectron</span><br></pre></td></tr></table></figure><p>完成后,建议使用vscode打开项目目录(这里为<code>HelloElectron</code>)来继续我们的下一步操作.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> HelloElectron</span><br><span class="line">code .</span><br></pre></td></tr></table></figure><p>继续执行以下命令来创建前端应用</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ng generate app ui</span><br></pre></td></tr></table></figure><p>在 cli 询问 <code>? Would you like to add Angular routing? (y/N)</code>时, 输入y来添加路由, 其它选项按需选择.</p><p>以上命令跑完后, 运行<code>ng serve --open</code> 应该可以在浏览器中看到angular的hello world页面.<br><img src="/2020/01/23/ElectronAngular/02.png" alt="Hello world"></p><p>接下来,打开<code>angular.json</code>修改生成设置.</p><ol><li>修改<code>outputPath</code>为<code>dist/app/ui</code></li><li>修改<code>outputHashing</code>为<code>none</code></li></ol><p>打开<code>ui/src/index.html</code>, 修改base href:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">base</span> <span class="attr">href</span>=<span class="string">&quot;/&quot;</span>&gt;</span></span><br><span class="line">修改为:</span><br><span class="line"><span class="tag">&lt;<span class="name">base</span> <span class="attr">href</span>=<span class="string">&quot;./&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="2-配置Electron"><a href="#2-配置Electron" class="headerlink" title="2.配置Electron"></a>2.配置Electron</h2><p>安装以下必备库</p><ul><li>Electron <code>npm install --save-dev electron</code></li><li>ngx-electron <code>npm install --save ngx-electron</code></li><li>@types&#x2F;node <code>npm install --save-dev @types/node</code></li><li>electron-builder (用于打包electron应用， 若手动打包可不安装) <code>npm install --save-dev electron-builder</code></li></ul><p>PS: 如果你深受<code>The Girl Friend Wall</code>困扰的话, 安装Electron时post-install部分可能会卡非常非常非常久(npm需要下载90MB左右的Electron包). 此时可以参考<a target="_blank" rel="noopener external nofollow noreferrer" href="https://docs.npmjs.com/misc/config#https-proxy">http-proxy</a>设置代理.</p><h2 id="3-建立主线程项目"><a href="#3-建立主线程项目" class="headerlink" title="3. 建立主线程项目"></a>3. 建立主线程项目</h2><p>首先， 创建目录<code>core/</code> , 在之中创建<code>tsconfig.json</code>, 内容参考如下</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;compileOnSave&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;compilerOptions&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;module&quot;</span><span class="punctuation">:</span> <span class="string">&quot;commonjs&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;target&quot;</span><span class="punctuation">:</span> <span class="string">&quot;es2015&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;sourceMap&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;outDir&quot;</span><span class="punctuation">:</span> <span class="string">&quot;../dist/app&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;typeRoots&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">      <span class="string">&quot;../node_modules/@types&quot;</span></span><br><span class="line">    <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;moduleResolution&quot;</span><span class="punctuation">:</span> <span class="string">&quot;node&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;experimentalDecorators&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>创建<code>tslint.json</code>,配置可自行按需设定,或直接复制<code>ui/tslint.json</code>中的内容.</p><p>创建<code>index.ts</code>作为整个Electron应用的入口点, 内容如下</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> path <span class="keyword">from</span> <span class="string">&#x27;path&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123;app, <span class="title class_">BrowserWindow</span>&#125; <span class="keyword">from</span> <span class="string">&#x27;electron&#x27;</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="attr">mainWindow</span>: <span class="title class_">BrowserWindow</span> = <span class="literal">null</span>;</span><br><span class="line"><span class="comment">// 单进程锁, 按需添加</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">singleInstance</span>(<span class="params"></span>) &#123;</span><br><span class="line">  app.<span class="title function_">requestSingleInstanceLock</span>();</span><br><span class="line"></span><br><span class="line">  app.<span class="title function_">on</span>(<span class="string">&#x27;second-instance&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (mainWindow) &#123;</span><br><span class="line">      <span class="keyword">if</span> (mainWindow.<span class="title function_">isMinimized</span>()) &#123;</span><br><span class="line">        mainWindow.<span class="title function_">restore</span>();</span><br><span class="line">      &#125;</span><br><span class="line">      mainWindow.<span class="title function_">focus</span>();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建主窗口</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">createWindow</span>(<span class="params"></span>) &#123;</span><br><span class="line">  mainWindow = <span class="keyword">new</span> <span class="title class_">BrowserWindow</span>(&#123;</span><br><span class="line">    <span class="attr">width</span>: <span class="number">1080</span>,</span><br><span class="line">    <span class="attr">minWidth</span>: <span class="number">680</span>,</span><br><span class="line">    <span class="attr">height</span>: <span class="number">840</span>,</span><br><span class="line">    <span class="attr">frame</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">title</span>: app.<span class="property">name</span>,</span><br><span class="line">    <span class="attr">webPreferences</span>: &#123;</span><br><span class="line">      <span class="attr">nodeIntegration</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="attr">experimentalFeatures</span>: <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  mainWindow.<span class="title function_">loadURL</span>(path.<span class="title function_">join</span>(<span class="string">&#x27;file://&#x27;</span>, __dirname, <span class="string">&#x27;ui/index.html&#x27;</span>));</span><br><span class="line">  mainWindow.<span class="property">webContents</span>.<span class="title function_">on</span>(<span class="string">&#x27;will-navigate&#x27;</span>, <span class="function">(<span class="params">event, url</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (url !== path.<span class="title function_">join</span>(<span class="string">&#x27;file://&#x27;</span>, __dirname, <span class="string">&#x27;ui/index.html&#x27;</span>)) &#123;</span><br><span class="line">      event.<span class="title function_">preventDefault</span>();</span><br><span class="line">      mainWindow.<span class="title function_">loadURL</span>(path.<span class="title function_">join</span>(<span class="string">&#x27;file://&#x27;</span>, __dirname, <span class="string">&#x27;ui/index.html&#x27;</span>));</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">init</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="title function_">singleInstance</span>();</span><br><span class="line">  app.<span class="title function_">on</span>(<span class="string">&#x27;ready&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="title function_">createWindow</span>();</span><br><span class="line">    <span class="comment">// 创建窗口后立即打开DevTools, 按需选择.</span></span><br><span class="line">    <span class="comment">//mainWindow.webContents.openDevTools();</span></span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  app.<span class="title function_">on</span>(<span class="string">&#x27;window-all-closed&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (process.<span class="property">platform</span> !== <span class="string">&#x27;darwin&#x27;</span>) &#123;</span><br><span class="line">      app.<span class="title function_">quit</span>();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  app.<span class="title function_">on</span>(<span class="string">&#x27;activate&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (mainWindow === <span class="literal">null</span>) &#123;</span><br><span class="line">      <span class="title function_">createWindow</span>();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">init</span>();</span><br></pre></td></tr></table></figure><h2 id="4-配置生成脚本"><a href="#4-配置生成脚本" class="headerlink" title="4. 配置生成脚本"></a>4. 配置生成脚本</h2><p>打开<code>package.json</code>, 将script节替换为以下内容:</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;scripts&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;build&quot;</span><span class="punctuation">:</span> <span class="string">&quot;tsc -p core &amp;&amp; ng build&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;build-prod&quot;</span><span class="punctuation">:</span> <span class="string">&quot;tsc -p core &amp;&amp; ng build --prod&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;start&quot;</span><span class="punctuation">:</span> <span class="string">&quot;npm run build &amp;&amp; electron ./dist/app/index.js&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;clean&quot;</span><span class="punctuation">:</span> <span class="string">&quot;rm ./dist -rf&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;lint&quot;</span><span class="punctuation">:</span> <span class="string">&quot;echo Linting UI &amp;&amp; ng lint &amp;&amp; echo Linting Core... &amp;&amp; tslint -p core&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br></pre></td></tr></table></figure><h2 id="5-配置自动打包-可选"><a href="#5-配置自动打包-可选" class="headerlink" title="5. 配置自动打包(可选)"></a>5. 配置自动打包(可选)</h2><p>首先请确保你已经安装了electron-builder<br>在package.json中添加<code>build</code>节</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;build&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;appId&quot;</span><span class="punctuation">:</span> <span class="string">&quot;net.example.HelloElectron&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;productName&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Hello Electron&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;directories&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;app&quot;</span><span class="punctuation">:</span> <span class="string">&quot;dist/app&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;output&quot;</span><span class="punctuation">:</span> <span class="string">&quot;dist/pack&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;nsis&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;oneClick&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;perMachine&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;allowToChangeInstallationDirectory&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;license&quot;</span><span class="punctuation">:</span> <span class="string">&quot;LICENSE&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;artifactName&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$&#123;productName&#125;.Setup.$&#123;version&#125;.$&#123;ext&#125;&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;win&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;target&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="punctuation">&#123;</span></span><br><span class="line">          <span class="attr">&quot;target&quot;</span><span class="punctuation">:</span> <span class="string">&quot;nsis&quot;</span></span><br><span class="line">        <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="punctuation">&#123;</span></span><br><span class="line">          <span class="attr">&quot;target&quot;</span><span class="punctuation">:</span> <span class="string">&quot;zip&quot;</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">      <span class="punctuation">]</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;mac&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;target&quot;</span><span class="punctuation">:</span> <span class="string">&quot;dmg&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;linux&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;target&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="punctuation">&#123;</span></span><br><span class="line">          <span class="attr">&quot;target&quot;</span><span class="punctuation">:</span> <span class="string">&quot;deb&quot;</span></span><br><span class="line">        <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="punctuation">&#123;</span></span><br><span class="line">          <span class="attr">&quot;target&quot;</span><span class="punctuation">:</span> <span class="string">&quot;rpm&quot;</span></span><br><span class="line">        <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="punctuation">&#123;</span></span><br><span class="line">          <span class="attr">&quot;target&quot;</span><span class="punctuation">:</span> <span class="string">&quot;tar.gz&quot;</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">      <span class="punctuation">]</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br></pre></td></tr></table></figure><p>有关以上json的更多信息,可参见<a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.electron.build/configuration/configuration">Configuration</a>.</p><p>然后在script节添加publish:</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;publish&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cp package.release.json dist/app/package.json &amp;&amp; electron-builder&quot;</span><span class="punctuation">,</span></span><br></pre></td></tr></table></figure><p>接下来,创建<code>package.build.json</code>, 内容参考如下</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;HelloElectron&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;author&quot;</span><span class="punctuation">:</span> <span class="string">&quot;EdgeNeko&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;homepage&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https://example.com&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;private&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;license&quot;</span><span class="punctuation">:</span> <span class="string">&quot;MIT&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;dependencies&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>在<code>dependencies</code>中,添加需要打包到最终应用的node库.<br>有关双package.json结构, 可参考<a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.electron.build/tutorials/two-package-structure">此文档</a>.</p><p>运行以下命令即可打包:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm run clean</span><br><span class="line">npm run build-prod</span><br><span class="line">npm run publish</span><br></pre></td></tr></table></figure><p>打包结果会保存在<code>dist/pack</code></p><h2 id="6-示例-在ui线程调用Node"><a href="#6-示例-在ui线程调用Node" class="headerlink" title="6. 示例:在ui线程调用Node"></a>6. 示例:在ui线程调用Node</h2><p>创建一个服务,名为NodeService, 内容如下:</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;<span class="title class_">Injectable</span>&#125; <span class="keyword">from</span> <span class="string">&#x27;@angular/core&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> fs <span class="keyword">from</span> <span class="string">&#x27;fs&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123;<span class="title class_">ElectronService</span>&#125; <span class="keyword">from</span> <span class="string">&#x27;ngx-electron&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Injectable</span>(&#123;</span><br><span class="line">  <span class="attr">providedIn</span>: <span class="string">&#x27;root&#x27;</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> <span class="title class_">NodeService</span> &#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> <span class="attr">fs</span>: <span class="keyword">typeof</span> fs;</span><br><span class="line">  <span class="keyword">public</span> <span class="attr">childProcess</span>: <span class="keyword">typeof</span> childProcess;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"></span></span><br><span class="line"><span class="params">    electronService: ElectronService</span></span><br><span class="line"><span class="params">  </span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">fs</span> = electronService.<span class="property">remote</span>.<span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>接下来,就可以通过注入<code>NodeService</code>并以<code>nodeService.fs</code>来调用node中的fs了.</p><h2 id="7-配置调试"><a href="#7-配置调试" class="headerlink" title="7. 配置调试"></a>7. 配置调试</h2><p>这部分目前我还没有什么好的解决方案,如果米娜桑有解决方案欢迎在下面提出QAQ</p></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者:</span> <span class="post-copyright-info"><a href="https://edgeneko.aiursoft.com">EdgeNeko</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接:</span> <span class="post-copyright-info"><a href="https://edgeneko.aiursoft.com/2020/01/23/ElectronAngular/">https://edgeneko.aiursoft.com/2020/01/23/ElectronAngular/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明:</span> <span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="external nofollow noreferrer" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://edgeneko.aiursoft.com" target="_blank">EdgeNeko's blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Web/">Web</a><a class="post-meta__tags" href="/tags/Electron/">Electron</a><a class="post-meta__tags" href="/tags/Angular/">Angular</a><a class="post-meta__tags" href="/tags/Desktop/">Desktop</a></div><div class="post_share"><div class="social-share" data-image="/img/default-title/6.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload='this.media="all"'><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2020/04/17/WindowsTerminal200417/"><img class="prev-cover" src="/img/default-title/14.jpg" onerror='onerror=null,src="/img/404.jpg"' alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">在windows上的真正适合强迫症的终端环境</div></div></a></div><div class="next-post pull-right"><a href="/2019/01/31/ModernMessageBoxLib/"><img class="next-cover" src="/img/default-title/12.jpg" onerror='onerror=null,src="/img/404.jpg"' alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">ModernMessageBoxLib 发布</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2019/01/31/ModernMessageBoxLib/" title="ModernMessageBoxLib 发布"><img class="cover" src="/img/default-title/12.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2019-01-31</div><div class="title">ModernMessageBoxLib 发布</div></div></a></div><div><a href="/2019/01/31/SaberColorfulStartmenu/" title="Saber&#39;s Colorful Startmenu"><img class="cover" src="/img/default-title/9.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2019-01-31</div><div class="title">Saber&#39;s Colorful Startmenu</div></div></a></div></div></div><hr><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i> <span>评论</span></div></div><div class="comment-wrap"><div><div id="disqus_thread"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/avatar.jpg" onerror='this.onerror=null,this.src="/img/friend_404.gif"' alt="avatar"></div><div class="author-info__name">EdgeNeko</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">13</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">34</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">8</div></a></div><a id="card-info-btn" href="mailto:edgeneko@aiursoft.com" rel="external nofollow noreferrer"><i class="fas fa-envelope"></i><span>Email me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/hv0905" rel="external nofollow noreferrer" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="https://space.bilibili.com/26158913" rel="external nofollow noreferrer" target="_blank" title="Bilibili"><i class="far fa-play-circle"></i></a><a class="social-icon" href="/link" target="_blank" title="More"><i class="fas fa-chevron-circle-down fa-rotate-270"></i></a></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AD%A6%E5%91%8A-%E9%98%85%E8%AF%BB%E4%B8%8B%E9%9D%A2%E5%86%85%E5%AE%B9%E5%89%8D%E8%AF%B7%E8%AF%A6%E7%BB%86%E9%98%85%E8%AF%BB"><span class="toc-number">1.</span> <span class="toc-text">警告:阅读下面内容前请详细阅读</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0-%E5%BC%80%E5%A7%8B%E4%B9%8B%E5%89%8D"><span class="toc-number">2.</span> <span class="toc-text">0. 开始之前</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E5%88%9B%E5%BB%BAAngular%E9%A1%B9%E7%9B%AE"><span class="toc-number">3.</span> <span class="toc-text">1. 创建Angular项目</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E9%85%8D%E7%BD%AEElectron"><span class="toc-number">4.</span> <span class="toc-text">2.配置Electron</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E5%BB%BA%E7%AB%8B%E4%B8%BB%E7%BA%BF%E7%A8%8B%E9%A1%B9%E7%9B%AE"><span class="toc-number">5.</span> <span class="toc-text">3. 建立主线程项目</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%E9%85%8D%E7%BD%AE%E7%94%9F%E6%88%90%E8%84%9A%E6%9C%AC"><span class="toc-number">6.</span> <span class="toc-text">4. 配置生成脚本</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-%E9%85%8D%E7%BD%AE%E8%87%AA%E5%8A%A8%E6%89%93%E5%8C%85-%E5%8F%AF%E9%80%89"><span class="toc-number">7.</span> <span class="toc-text">5. 配置自动打包(可选)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-%E7%A4%BA%E4%BE%8B-%E5%9C%A8ui%E7%BA%BF%E7%A8%8B%E8%B0%83%E7%94%A8Node"><span class="toc-number">8.</span> <span class="toc-text">6. 示例:在ui线程调用Node</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-%E9%85%8D%E7%BD%AE%E8%B0%83%E8%AF%95"><span class="toc-number">9.</span> <span class="toc-text">7. 配置调试</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2022/10/11/XgpHollowKnightSaveBackup/" title="Microsoft Store(XGP)版本空洞骑士 Hollow Knight 存档备份方法"><img src="/img/default-title/11.jpg" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="Microsoft Store(XGP)版本空洞骑士 Hollow Knight 存档备份方法"></a><div class="content"><a class="title" href="/2022/10/11/XgpHollowKnightSaveBackup/" title="Microsoft Store(XGP)版本空洞骑士 Hollow Knight 存档备份方法">Microsoft Store(XGP)版本空洞骑士 Hollow Knight 存档备份方法</a><time datetime="2022-10-11T11:56:34.000Z" title="发表于 2022-10-11 19:56:34">2022-10-11</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/09/01/AspnetForwardHeaderWithCF/" title="Asp.Net Core: 在Cloudflare代理下的Linux服务器中处理ForwardedHeader并获取源IP"><img src="/img/default-title/18.jpg" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="Asp.Net Core: 在Cloudflare代理下的Linux服务器中处理ForwardedHeader并获取源IP"></a><div class="content"><a class="title" href="/2022/09/01/AspnetForwardHeaderWithCF/" title="Asp.Net Core: 在Cloudflare代理下的Linux服务器中处理ForwardedHeader并获取源IP">Asp.Net Core: 在Cloudflare代理下的Linux服务器中处理ForwardedHeader并获取源IP</a><time datetime="2022-08-31T16:04:49.000Z" title="发表于 2022-09-01 00:04:49">2022-09-01</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/07/31/CppMemberFunctionPointer/" title="Visual C++中成员函数指针与前向声明(Forward declaration)导致的异常"><img src="/img/default-title/17.jpg" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="Visual C++中成员函数指针与前向声明(Forward declaration)导致的异常"></a><div class="content"><a class="title" href="/2022/07/31/CppMemberFunctionPointer/" title="Visual C++中成员函数指针与前向声明(Forward declaration)导致的异常">Visual C++中成员函数指针与前向声明(Forward declaration)导致的异常</a><time datetime="2022-07-30T17:11:25.000Z" title="发表于 2022-07-31 01:11:25">2022-07-31</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/07/10/WinCppTuiTricks/" title="Win下C++ TUI控制台交互应用的一些技巧"><img src="/2022/07/10/WinCppTuiTricks/cover.jpg" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="Win下C++ TUI控制台交互应用的一些技巧"></a><div class="content"><a class="title" href="/2022/07/10/WinCppTuiTricks/" title="Win下C++ TUI控制台交互应用的一些技巧">Win下C++ TUI控制台交互应用的一些技巧</a><time datetime="2022-07-10T04:27:23.000Z" title="发表于 2022-07-10 12:27:23">2022-07-10</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/04/10/CPPClearConsole/" title="Clearing console screen in C++ program"><img src="/img/default-title/4.jpg" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="Clearing console screen in C++ program"></a><div class="content"><a class="title" href="/2022/04/10/CPPClearConsole/" title="Clearing console screen in C++ program">Clearing console screen in C++ program</a><time datetime="2022-04-09T16:01:30.000Z" title="发表于 2022-04-10 00:01:30">2022-04-10</time></div></div></div></div></div></div></main><footer id="footer" style="background-image:url(/img/default-title/6.jpg)"><div id="footer-wrap"><div class="copyright">&copy;2019 - 2022 By EdgeNeko</div><div class="framework-info"><span>框架</span> <a target="_blank" rel="noopener external nofollow noreferrer" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题</span> <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">感谢来访^_^ 背景2106:<a href="/img/default_background_.png">原图</a>|来源:SummerPocket CG</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i> <span>数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"></div></div><hr><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>function loadDisqus(){var e,t,d=function(){this.page.url="https://edgeneko.aiursoft.com/2020/01/23/ElectronAngular/",this.page.identifier="/2020/01/23/ElectronAngular/",this.page.title="从零开始创建基于Angular的Electron应用程序"};window.disqusReset=()=>{DISQUS.reset({reload:!0,config:d})},window.DISQUS?disqusReset():(e=document,(t=e.createElement("script")).src="https://edgeneko.disqus.com/embed.js",t.setAttribute("data-timestamp",+new Date),(e.head||e.body).appendChild(t)),document.getElementById("darkmode").addEventListener("click",()=>{setTimeout(()=>window.disqusReset(),200)})}{function loadOtherComment(){loadDisqus()}btf.loadComment(document.getElementById("disqus_thread"),loadDisqus)}</script></div><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors=["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"];var pjax=new Pjax({elements:'a:not([target="_blank"])',selectors:pjaxSelectors,cacheBust:!1,analytics:!1,scrollRestoration:!1});document.addEventListener("pjax:send",(function(){if(window.tocScrollFn&&window.removeEventListener("scroll",window.tocScrollFn),window.scrollCollect&&window.removeEventListener("scroll",scrollCollect),document.getElementById("rightside").style.cssText="opacity: ''; transform: ''",window.aplayers)for(let e=0;e<window.aplayers.length;e++)window.aplayers[e].options.fixed||window.aplayers[e].destroy();"object"==typeof typed&&typed.destroy();const e=document.body.classList;e.contains("read-mode")&&e.remove("read-mode"),"object"==typeof disqusjs&&disqusjs.destroy()})),document.addEventListener("pjax:complete",(function(){window.refreshFn(),document.querySelectorAll("script[data-pjax]").forEach(e=>{const t=document.createElement("script"),o=e.text||e.textContent||e.innerHTML||"";Array.from(e.attributes).forEach(e=>t.setAttribute(e.name,e.value)),t.appendChild(document.createTextNode(o)),e.parentNode.replaceChild(t,e)}),GLOBAL_CONFIG.islazyload&&window.lazyLoadInstance.update(),"function"==typeof chatBtnFn&&chatBtnFn(),"function"==typeof panguInit&&panguInit(),"function"==typeof gtag&&gtag("config","",{page_path:window.location.pathname}),"object"==typeof _hmt&&_hmt.push(["_trackPageview",window.location.pathname]),"function"==typeof loadMeting&&document.getElementsByClassName("aplayer").length&&loadMeting(),"object"==typeof Prism&&Prism.highlightAll()})),document.addEventListener("pjax:error",e=>{404===e.request.status&&pjax.loadUrl("/404.html")})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>